<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using git for project development • SpaDES.project</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using git for project development">
<meta property="og:description" content="SpaDES.project">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-3"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-3');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SpaDES.project</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.8.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/i-getting-started.html">SpaDES project setup</a>
    </li>
    <li>
      <a href="../articles/iii-using-git-github.html">Using git for project development</a>
    </li>
    <li>
      <a href="../articles/iv-Installing-R.html">Installing R</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/PredictiveEcology/SpaDES.project/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Using git for project development</h1>
                        <h4 data-toc-skip class="author">Alex M.
Chubaty</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/PredictiveEcology/SpaDES.project/blob/HEAD/vignettes/iii-using-git-github.Rmd" class="external-link"><code>vignettes/iii-using-git-github.Rmd</code></a></small>
      <div class="hidden name"><code>iii-using-git-github.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="what-is-git">What is <code>git</code>?<a class="anchor" aria-label="anchor" href="#what-is-git"></a>
</h2>
<p>Git is a version control system used extensively for software
development. Unlike ‘file-based’ versioning you may be familiar with
using Dropbox or Google Docs, <code>git</code> provides line-by-line
(character-by-character) versioning for text files. It is especially
powerful for collaborative projects, allowing easy merging of changed
files by multiple authors. While it may seem a bit daunting at first,
like any other professional tool, a small investment learning to use
this system pays dividends down the road.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="section level3">
<h3 id="commandline-tools">Commandline tools<a class="anchor" aria-label="anchor" href="#commandline-tools"></a>
</h3>
<p>See <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" class="external-link uri">https://git-scm.com/book/en/v2/Getting-Started-Installing-Git</a>
for instructions for your operating system.</p>
</div>
<div class="section level3">
<h3 id="desktop-clients">Desktop clients<a class="anchor" aria-label="anchor" href="#desktop-clients"></a>
</h3>
<p>Getting started with <code>git</code> is relatively easy using a
graphical user interface (GUI), like the one <a href="https://support.rstudio.com/hc/en-us/articles/200532077-Version-Control-with-Git-and-SVN" class="external-link">built
into Rstudio</a>. However, to really get going with <code>git</code> I
recommend <a href="https://gitkraken.com" class="external-link">GitKraken</a> – an extremely
powerful and user-friendly <code>git</code> GUI.</p>
<p>There are several excellent resources to help you get started with
<code>git</code>, GitHub, and GitKraken:</p>
<ul>
<li><a href="https://git-scm.com/book/en/v2" class="external-link uri">https://git-scm.com/book/en/v2</a></li>
<li><a href="https://docs.github.com/en/github/getting-started-with-github" class="external-link uri">https://docs.github.com/en/github/getting-started-with-github</a></li>
<li><a href="https://www.gitkraken.com/learn/git/tutorials" class="external-link uri">https://www.gitkraken.com/learn/git/tutorials</a></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="getting-started-with-github">Getting started with GitHub<a class="anchor" aria-label="anchor" href="#getting-started-with-github"></a>
</h2>
<p>Setup a PAT following <a href="https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token" class="external-link">these
instructions</a>, then edit <code>~/.Renviron</code> to include the
following:</p>
<pre><code><span><span class="va">GITHUB_PAT</span><span class="op">=</span><span class="va">xxxxxxxxxxxxxxxx</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="additonal-commandline-setup">Additonal commandline setup<a class="anchor" aria-label="anchor" href="#additonal-commandline-setup"></a>
</h2>
<p>Set your name and email for commits:</p>
<pre><code>git config --global user.name "YOURNAME"
git config --global user.email "YOUREMAIL@EMAIL.COM"</code></pre>
<p>Set default editor for commit messages, etc. to use <code>nano</code>
instead of <code>vi</code>:</p>
<pre><code>git config --global core.editor "nano"</code></pre>
<p>Use ssh instead of https with GitHub:</p>
<pre><code>git config --global url.ssh://git@github.com/.insteadOf https://github.com/</code></pre>
</div>
<div class="section level2">
<h2 id="development-workflow">Development workflow<a class="anchor" aria-label="anchor" href="#development-workflow"></a>
</h2>
<p>Git workflows are branch-based. The <code>main</code> branch is the
primary branch from which others are derived, and contains the code of
the latest release. The <code>development</code> branch contains the
latest contributions and other code that will appear in the next
release. Other branches can be created as needed to implement features,
fix bugs, or try out new algorithms, before being merged into
<code>development</code> (and eventually into <code>main</code>).</p>
<p>Before merging branches, it is useful to create a <a href="https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request" class="external-link">pull
request</a> (PR) via GitHub, to allow for code review as well as trigger
any automated tests and code checks.</p>
</div>
<div class="section level2">
<h2 id="git-submodules">Git submodules<a class="anchor" aria-label="anchor" href="#git-submodules"></a>
</h2>
<p>Another vignette discussed how to manage large SpaDES projects, and
suggested the following project directory structure:</p>
<pre><code>myProject/            # a version controlled git repo
  |_  .git/
  |_  cache/            # should be .gitignore'd
  |_  inputs/           # should be .gitignore'd (selectively)
  |_  manuscripts/
  |_  modules/
    |_  module1/      # can be a git submodule
    |_  module2/      # can be a git submodule
    |_  module3/      # can be a git submodule
    |_  module4/      # can be a git submodule
    |_  module5/      # can be a git submodule
  |_  outputs/          # should be .gitignore'd
  ...</code></pre>
<p>The layout of a project directory is somewhat flexible, but this
approach works especially well if you’re a module developer using <a href="https://git-scm.com/book/en/v2/Git-Tools-Submodules" class="external-link">git
submodules</a> for each of your module subdirectories. And each module
really should be its own git repository:</p>
<ul>
<li>people don’t need to pull everything in just to work on a single
module;</li>
<li>makes it possible to use git submodules for [Rstudio] projects;</li>
<li>easy to setup additional <code>SpaDES</code> module
repositories.</li>
</ul>
<p>However, note that you cannot nest a git repository inside another
git repository. So if you are using git for your project directory, you
cannot use <code>SpaDES</code> modules as repos inside that project
directory (this is what git submodules are for). <strong>If git
submodules aren’t your thing, then you will need to keep your project
repo separate from your module repo!</strong></p>
<pre><code>modules/                # use this for your simulation modulePath
  |_  module1/
  |_  module2/
  |_  module3/
  |_  module4/
  |_  module5/
myProject/
  |_  cache/            # use this for your simulation cachePath
  |_  inputs/           # use this for your simulation inputPath
  |_  manuscripts/
  |_  outputs/          # use this for your simulation outputPath
  |_ packages/
  ...</code></pre>
<p>Alternatively, your <code>myProject/</code> directory could be a
subdirectory of <code>modules/</code>.</p>
<pre><code>modules/              # use this for your simulation modulePath
  |_  module1/
  |_  module2/
  |_  module3/
  |_  module4/
  |_  module5/

myProject/
  |_  cache/          # use this for your simulation cachePath
  |_  inputs/         # use this for your simulation inputPath
  |_  manuscripts/
  |_  outputs/        # use this for your simulation outputPath
  |_  packages/
  ...</code></pre>
<p>These allow you to have each module and project be a git repository,
and if you’re worried about storage space it ensures you only keep one
copy of a module no matter how many projects it’s used with. However,
there can e several drawbacks to this approach. First off, it is
inconsistent with the way Rstudio projects work, because not all
project-related files are in the same directory. This means you need to
take extra care to ensure that you set your module path using a
<em>relative</em> file path (<em>e.g.</em>, <code>../modules</code>),
and you’ll need to take even more care to update this path if you move
the <code>modules/</code> directory or are sharing your project code
(because your collaborator may store their modules in a different
location). Second, if you are working with multiple projects and each
one uses the same module(s) but different versions, it’s going to be
extremely inconvenient to have to manually reset them when switching
projects. As with package libraries, it’s best practice to keep
projects’ modules isolated (i.e., standalone) as much as possible.</p>
<p>In the end, which approach you use will depend on your level of
git-savviness (and that of your collaborators), and how comfortable you
are using git submodules.</p>
<div class="section level3">
<h3 id="cloning-a-project-with-submodules">Cloning a project with submodules<a class="anchor" aria-label="anchor" href="#cloning-a-project-with-submodules"></a>
</h3>
<pre><code>git clone --recurse-submodules -j8 git://github.com/foo/bar.git</code></pre>
</div>
<div class="section level3">
<h3 id="adding-submodules-to-a-project">Adding submodules to a project<a class="anchor" aria-label="anchor" href="#adding-submodules-to-a-project"></a>
</h3>
<pre><code>git submodule add https://github.com/USERNAME/REPO &lt;path/to/submodule&gt;</code></pre>
</div>
<div class="section level3">
<h3 id="updating-submodules">Updating submodules<a class="anchor" aria-label="anchor" href="#updating-submodules"></a>
</h3>
<p>Within a project repository, git tracks specific submodule commits,
not their branches. So switching to a submodule directory and running
git pull will likely warn you that you are in a detached
<code>HEAD</code> state. Before making changes to code in a submodule
directory, be sure to switch to the branch you want to use using
<code>git checkout &lt;branch-name&gt;</code>.</p>
<p>To get your latest updates on another machine, you need to update the
project repo and the submodules:</p>
<pre><code>git pull              ## updates the project repo
git submodule update  ## updates submodules based on project repo changes</code></pre>
</div>
</div>
<div class="section level2">
<h2 id="additional-resources">Additional resources<a class="anchor" aria-label="anchor" href="#additional-resources"></a>
</h2>
<ul>
<li><a href="https://github.github.com/training-kit/downloads/github-git-cheat-sheet.pdf" class="external-link uri">https://github.github.com/training-kit/downloads/github-git-cheat-sheet.pdf</a></li>
<li><a href="https://www.gitkraken.com/resources/gitkraken-cheat-sheet" class="external-link uri">https://www.gitkraken.com/resources/gitkraken-cheat-sheet</a></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Eliot J B McIntire.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
