<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Sets up a new or existing SpaDES project — setupProject • SpaDES.project</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Sets up a new or existing SpaDES project — setupProject"><meta property="og:description" content="setupProject calls a sequence of functions in this order:
setupOptions (first time), setupPaths, setupModules, setupPackages,
setupSideEffects, setupOptions (second time), setupParams,
setupGitIgnore, and setupRestart.
This sequence will create folder structures, install missing packages from those
listed in either the packages, require arguments or in the modules reqdPkgs fields,
load packages (only those in the require argument), set options, download or
confirm the existence of modules. It will also return elements that can be passed
directly to simInit  or simInitAndSpades, specifically, modules, params,
paths, times, and any named elements passed to .... This function will also
, if desired, change the .Rprofile file for this project so that every time
the project is opened, it has a specific .libPaths().
There are a number of convenience elements described in the section below. See Details.
Because of this sequence, users can take advantage of settings (i.e., objects)
that happen (are created) before others. For example, users can set paths
then use the paths list to set options that will can update/change paths,
or set times and use the times list for certain entries in params."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-3"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-3');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SpaDES.project</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.8.9011</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/i-getting-started.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/iii-using-git-github.html">Using git for project development</a>
    </li>
    <li>
      <a href="../articles/iv-Installing-R.html">Installing R</a>
    </li>
    <li>
      <a href="../articles/v-finding-other-modules.html">Finding other modules</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/PredictiveEcology/SpaDES.project/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Sets up a new or existing SpaDES project</h1>
    <small class="dont-index">Source: <a href="https://github.com/PredictiveEcology/SpaDES.project/blob/HEAD/R/setupProject.R" class="external-link"><code>R/setupProject.R</code></a></small>
    <div class="hidden name"><code>setupProject.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>setupProject</code> calls a sequence of functions in this order:
<code>setupOptions</code> (first time), <code>setupPaths</code>, <code>setupModules</code>, <code>setupPackages</code>,
<code>setupSideEffects</code>, <code>setupOptions</code> (second time), <code>setupParams</code>,
<code>setupGitIgnore</code>, and <code>setupRestart</code>.</p>
<p>This sequence will create folder structures, install missing packages from those
listed in either the <code>packages</code>, <code>require</code> arguments or in the modules <code>reqdPkgs</code> fields,
load packages (only those in the <code>require</code> argument), set options, download or
confirm the existence of modules. It will also return elements that can be passed
directly to <code>simInit</code>  or <code>simInitAndSpades</code>, specifically, <code>modules</code>, <code>params</code>,
<code>paths</code>, <code>times</code>, and any named elements passed to <code>...</code>. This function will also
, if desired, change the .Rprofile file for this project so that every time
the project is opened, it has a specific <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code>.</p>
<p>There are a number of convenience elements described in the section below. See Details.
Because of this sequence, users can take advantage of settings (i.e., objects)
that happen (are created) before others. For example, users can set <code>paths</code>
then use the <code>paths</code> list to set <code>options</code> that will can update/change <code>paths</code>,
or set <code>times</code> and use the <code>times</code> list for certain entries in <code>params</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">setupProject</span><span class="op">(</span></span>
<span>  <span class="va">name</span>,</span>
<span>  <span class="va">paths</span>,</span>
<span>  <span class="va">modules</span>,</span>
<span>  <span class="va">packages</span>,</span>
<span>  <span class="va">times</span>,</span>
<span>  <span class="va">options</span>,</span>
<span>  <span class="va">params</span>,</span>
<span>  <span class="va">sideEffects</span>,</span>
<span>  <span class="va">config</span>,</span>
<span>  require <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  studyArea <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Restart <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"SpaDES.project.Restart"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  useGit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"SpaDES.project.useGit"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  setLinuxBinaryRepo <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  standAlone <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  libPaths <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  updateRprofile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"Require.updateRprofile"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"Require.verbose"</span>, <span class="fl">1L</span><span class="op">)</span>,</span>
<span>  <span class="va">defaultDots</span>,</span>
<span>  <span class="va">dots</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>name</dt>
<dd><p>Optional. If supplied, the name of the project. If not supplied, an
attempt will be made to extract the name from the <code>paths[["projectPath"]]</code>.
If this is a GitHub project, then it should indicate the full Github
repository and branch name, e.g., <code>"PredictiveEcology/WBI_forecasts@ChubatyPubNum12"</code></p></dd>


<dt>paths</dt>
<dd><p>a list with named elements, specifically, <code>modulePath</code>, <code>projectPath</code>,
<code>packagePath</code> and all others that are in <code><a href="https://spades-core.predictiveecology.org/reference/setPaths.html" class="external-link">SpaDES.core::setPaths()</a></code>
(i.e., <code>inputPath</code>, <code>outputPath</code>, <code>scratchPath</code>, <code>cachePath</code>, <code>rasterTmpDir</code>).
Each of these has a sensible default, which will be overridden but any user
supplied values.
See setup.</p></dd>


<dt>modules</dt>
<dd><p>a character string of modules to pass to <code>getModule</code>. These
should be one of: simple name (e.g., <code>fireSense</code>) which will be searched for locally
in the <code>paths[["modulePath"]]</code>; or a GitHub repo with branch (<code>GitHubAccount/Repo@branch</code> e.g.,
<code>"PredictiveEcology/Biomass_core@development"</code>); or a character vector that identifies
one or more (not optional file extension) <code>.R</code> file(s) (local or GitHub)
to parse that will produce a character vector assigned to
the name "modules". If the entire project is a git repository,
then it will not try to re-get these modules; instead it will rely on the user
managing their git status outside of this function.
See setup.</p></dd>


<dt>packages</dt>
<dd><p>Optional. A vector of packages that must exist in the <code>libPaths</code>.
This will be passed to <code><a href="https://Require.predictiveecology.org/reference/Require.html" class="external-link">Require::Install</a></code>, i.e., these will be installed, but
not attached to the search path. See also the <code>require</code> argument. To force skip
of package installation (without assessing modules), set <code>packages = NULL</code></p></dd>


<dt>times</dt>
<dd><p>Optional. This will be returned if supplied; if supplied, the values
can be used in e.g., <code>params</code>, e.g., <code>params = list(mod = list(startTime = times$start))</code>.
See help for <code><a href="https://spades-core.predictiveecology.org/reference/simInit.html" class="external-link">SpaDES.core::simInit</a></code>.</p></dd>


<dt>options</dt>
<dd><p>Optional. Either a named list to be passed to <code>options</code>
or a character vector indicating one or more file(s) to source,
in the order provided. These will be parsed locally (not
the <code>.GlobalEnv</code>), so they will not create globally accessible objects. NOTE:
<code>options</code> is run 2x within <code>setupProject</code>, once before <code>setupPaths</code> and once
after <code>setupPackages</code>. This occurs because many packages use options for their
behaviour (need them set before e.g., <code>Require::require</code> is run; but many packages
also change <code>options</code> at startup. See details.
See setup.</p></dd>


<dt>params</dt>
<dd><p>Optional. Similar to <code>options</code>, however, this named list will be
returned, i.e., there are no side effects.
See setup.</p></dd>


<dt>sideEffects</dt>
<dd><p>Optional. This can be an expression or one or more file names or
a code chunk surrounded by <code>{...}</code>.
If a non-text file name is specified (e.g., <em>not .txt or .R</em> currently),
these files will simply be downloaded, using their relative path as specified
in the github notation. They will be downloaded or accessed locally at that
relative path.
If these file names represent scripts (*.txt or .R), this/these will be parsed and evaluated,
but nothing is returned (i.e., any assigned objects are not returned). This is intended
to be used for operations like cloud authentication or configuration functions
that are run for their side effects only.</p></dd>


<dt>config</dt>
<dd><p>Still experimental linkage to the <code>SpaDES.config</code> package. Currently
not working.</p></dd>


<dt>require</dt>
<dd><p>Optional. A character vector of packages to install <em>and</em> attach
(with <code><a href="https://Require.predictiveecology.org/reference/Require.html" class="external-link">Require::Require</a></code>). These will be installed and attached at the start
of <code>setupProject</code> so that a user can use these during <code>setupProject</code>.
See setup</p></dd>


<dt>studyArea</dt>
<dd><p>Optional. If a list, it will be passed to
<code><a href="https://rdrr.io/pkg/geodata/man/gadm.html" class="external-link">geodata::gadm</a></code>. To specify a country other than the default <code>"CAN"</code>,
the list must have a named element, <code>"country"</code>. All other named elements
will be passed to <code>gadm</code>. 2 additional named elements can be passed for
convenience, <code>subregion = "..."</code>, which will be grepped with the column
<code>NAME_1</code>, and <code>epsg = "..."</code>, so a user can pass an <code>epsg.io</code> code to
reproject the <code>studyArea</code>. See examples.</p></dd>


<dt>Restart</dt>
<dd><p>If the <code>projectPath</code> is not the current path, and the session is in
RStudio, and interactive, it will create an RStudio Project file (and .Rproj.user
folder), restart with a new Rstudio session with that new project and with a root
path (i.e. working directory) set to <code>projectPath</code>. Default is <code>FALSE</code>, and no
RStudio Project is created.</p></dd>


<dt>useGit</dt>
<dd><p>A logical. If <code>TRUE</code>, it will use <code>git clone</code> and <code>git checkout</code>
to get and change branch for each module, according to its specification in
<code>modules</code>. Otherwise it will download modules with <code>getModules</code>. NOTE: <em>CREATING</em> A
GIT REPOSITORY AT THE PROJECT LEVEL AND SETTING MODULES AS GIT SUBMODULES IS
NOT YET IMPLEMENTED. IT IS FINE IF THE PROJECT HAS BEEN MANUALLY SET UP TO BE
A GIT REPOSITORY WITH SUBMODULES: THIS FUNCTION WILL ONLY EVALUTE PATHS. This can
be set with the <code>option(SpaDES.project.useGit = xxx)</code>.</p></dd>


<dt>setLinuxBinaryRepo</dt>
<dd><p>Logical. Should the binary RStudio Package Manager be used
on Linux (ignored if Windows)</p></dd>


<dt>standAlone</dt>
<dd><p>A logical. Passed to <code>Require::standAlone</code>. This keeps all
packages installed in a project-level library, if <code>TRUE</code>. Default is <code>TRUE</code>.</p></dd>


<dt>libPaths</dt>
<dd><p>Deprecated. Use <code>paths = list(packagePath = ...)</code>.</p></dd>


<dt>updateRprofile</dt>
<dd><p>Logical. Should the <code>paths$packagePath</code> be set in the <code>.Rprofile</code>
file for this project. Note: if <code>paths$packagePath</code> is within the <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code>,
then there will be a warning, indicating this won't persist. If the user is
using <code>Rstudio</code> and the <code>paths$projectPath</code> is not the root of the current
Rstudio project, then a warning will be given, indicating the .Rprofile may not
be read upon restart.</p></dd>


<dt>overwrite</dt>
<dd><p>Logical vector or character vector, however, only <code>getModule</code> will respond
to a vector of values. If length-one <code>TRUE</code>, then all files that were previously downloaded
will be overwritten throughout the sequence of <code>setupProject</code>. If a vector of
logical or character, these will be passed to <code>getModule</code>: only the named
modules will be overwritten or the logical vector of the modules.
NOTE: if a vector, no other file specified anywhere in <code>setupProject</code> will be
overwritten except a module that/those names, because
only <code>setupModules</code> is currently responsive to a vector. To have fine grained control,
a user can just manually delete a file, then rerun.</p></dd>


<dt>verbose</dt>
<dd><p>Numeric or logical indicating how verbose should the function
be. If -1 or -2, then as little verbosity as possible. If 0 or FALSE,
then minimal outputs; if <code>1</code> or TRUE, more outputs; <code>2</code> even more. NOTE: in
<code>Require</code> function, when <code>verbose &gt;= 2</code>, the return object will have an
attribute: <code>attr(.., "Require")</code> which has lots of information about the
processes of the installs.</p></dd>


<dt>defaultDots</dt>
<dd><p>A named list of any arbitrary R objects.
These can be supplied to give default values to objects that
are otherwise passed in with the <code>...</code>, i.e., not specifically named for these
<code>setup*</code> functions. If named objects are supplied as top-level arguments, then
the <code>defaultDots</code> will be overridden. This can be particularly useful if the
arguments passed to <code>...</code> do not always exist, but rely on external e.g., batch
processing to optionally fill them. See examples.</p></dd>


<dt>dots</dt>
<dd><p>Any other named objects passed as a list a user might want for other elements.</p></dd>


<dt>...</dt>
<dd><p>further named arguments that acts like <code>objects</code>, but a different
way to specify them. These can be anything. The general use case
is to create the <code>objects</code> that are would be passed to
<code><a href="https://spades-core.predictiveecology.org/reference/simInit.html" class="external-link">SpaDES.core::simInit</a></code>, or <code><a href="https://spades-core.predictiveecology.org/reference/simInitAndSpades.html" class="external-link">SpaDES.core::simInitAndSpades</a></code>,
(e.g. <code>studyAreaName</code> or <code>objects</code>) or additional objects to be passed to the simulation
(in older versions of <code>SpaDES.core</code>, these were passed as a named list
to the <code>objects</code> argument). <strong>Order matters</strong>. These are sequentially evaluated,
and also any arguments that are specified before the named arguments
e.g., <code>name</code>, <code>paths</code>, will be evaluated prior to any of the named arguments,
i.e., "at the start" of the <code>setupProject</code>.
If placed after the first named argument, then they will be evaluated at the
end of the <code>setupProject</code>, so can access all the packages, objects, etc.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>setupProject</code> will return a named list with elements <code>modules</code>, <code>paths</code>, <code>params</code>, and <code>times</code>.
The goal of this list is to contain list elements that can be passed directly
to <code>simInit</code>.</p>


<p>It will also append all elements passed by the user in the <code>...</code>.
This list  can be passed directly to <code><a href="https://spades-core.predictiveecology.org/reference/simInit.html" class="external-link">SpaDES.core::simInit()</a></code> or
<code><a href="https://spades-core.predictiveecology.org/reference/simInitAndSpades.html" class="external-link">SpaDES.core::simInitAndSpades()</a></code> using a <code><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call()</a></code>. See example.</p>


<p>NOTE: both <code>projectPath</code> and <code>packagePath</code> will be omitted in the <code>paths</code> list
as they are used to set current directory (found with <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd()</a></code>) and <code>.libPaths()[1]</code>,
but are not accepted by <code>simInit</code>. <code>setupPaths</code> will still return these two paths as its
outputs are not expected to be passed directly to <code>simInit</code> (unlike <code>setupProject</code> outputs).</p>
    </div>
    <div id="objective">
    <h2>Objective</h2>
    


<p>The overarching objectives for these functions are:</p>
<ol><li><p>To prepare what is needed for <code>simInit</code>.</p></li>
<li><p>To help a user eliminate virtually all assignments to the <code>.GlobalEnv</code>,
as these create and encourage spaghetti code that becomes unreproducible
as the project increases in complexity.</p></li>
<li><p>Be very simple for beginners, but powerful enough to expand to almost
any needs of arbitrarily complex projects, using the same structure</p></li>
<li><p>Deal with the complexities of R package installation and loading when
working with modules that may have been created by many users</p></li>
<li><p>Create a common SpaDES project structure, allowing
easy transition from one project to another, regardless of complexity.</p></li>
</ol></div>
    <div id="convenience-elements">
    <h2>Convenience elements</h2>
    


<div class="section">
<h3 id="sequential-evaluation">Sequential evaluation<a class="anchor" aria-label="anchor" href="#sequential-evaluation"></a></h3>
<p>Throughout these functions, efforts have been made to implement sequential evaluation,
within files and within lists. This means that a user can <em>use</em> the values from an
upstream element in the list. For example, the following where <code>projectPath</code> is
part of the list that will be assigned to the <code>paths</code> argument and it is then
used in the subsequent list element is valid:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">setupPaths</span>(<span class="at">paths =</span> <span class="fu">list</span>(<span class="at">projectPath =</span> <span class="st">"here"</span>,</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>                        <span class="at">modulePath =</span> <span class="fu">file.path</span>(paths[[<span class="st">"projectPath"</span>]], <span class="st">"modules"</span>)))</span></code></pre><p></p></div>
<p>Because of such sequential evaluation, <code>paths</code>, <code>options</code>, and <code>params</code> files
can be sequential lists that have impose a hierarchy specified
by the order. For example, a user can first create a list of <em>default</em> options,
then several lists of user-desired options behind an <code>if (user("emcintir"))</code>
block that add new or override existing elements, followed by <code>machine</code> specific
values, such as paths.</p>
</div>

<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">setupOptions</span>(</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  maxMemory <span class="ot">&lt;-</span> <span class="fl">5e+9</span> <span class="co"># if (grepl("LandWeb", runName)) 5e+12 else 5e+9</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  <span class="co"># Example -- Use any arbitrary object that can be passed in the `...` of `setupOptions`</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  <span class="co">#  or `setupProject`</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>  <span class="cf">if</span> (.mode <span class="sc">==</span> <span class="st">"development"</span>) {</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>     <span class="fu">list</span>(<span class="at">test =</span> <span class="dv">2</span>)</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>  }</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">machine</span>(<span class="st">"A127"</span>)) {</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>    <span class="fu">list</span>(<span class="at">test =</span> <span class="dv">3</span>)</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>  }</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>)</span></code></pre><p></p></div>
<div class="section">
<h3 id="values-and-or-files">Values and/or files<a class="anchor" aria-label="anchor" href="#values-and-or-files"></a></h3>
<p>The arguments, <code>paths</code>, <code>options</code>, and <code>params</code>, can all
understand lists of named values, character vectors, or a mixture by using a list where
named elements are values and unnamed elements are character strings/vectors. Any unnamed
character string/vector will be treated as a file path. If that file path has an <code>@</code> symbol,
it will be assumed to be a file that exists on a GitHub repository in <code>https://github.com</code>.
So a user can pass values, or pointers to remote and/or local paths that themselves have values.</p>
<p>The following will set an option as declared, plus read the local file (with relative
path), plus download and read the cloud-hosted file.</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">setupProject</span>(</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>   <span class="at">options =</span> <span class="fu">list</span>(<span class="at">reproducible.useTerra =</span> <span class="cn">TRUE</span>,</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>                  <span class="st">"inst/options.R"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>                  <span class="st">"PredictiveEcology/SpaDES.project@transition/inst/options.R"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>                 )</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>   <span class="er">)</span></span></code></pre><p></p></div>
<p>This approach allows for an organic growth of complexity, e.g., a user begins with
only named lists of values, but then as the number of values increases, it may be
helpful to put some in an external file.</p>
<p>NOTE: if the GitHub repository is <em>private</em> the user <em>must</em> configure their GitHub
token by setting the GITHUB_PAT environment variable -- unfortunately, the <code>usethis</code>
approach to setting the token will not work at this moment.</p>
</div>

<div class="section">
<h3 id="specifying-paths-options-params">Specifying <code>paths</code>, <code>options</code>, <code>params</code><a class="anchor" aria-label="anchor" href="#specifying-paths-options-params"></a></h3>
<p>If <code>paths</code>, <code>options</code>, and/or <code>params</code> are a character string
or character vector (or part of an unnamed list element) the string(s)
will be interpreted as files to parse. These files should contain R code that
specifies <em>named lists</em>, where the names are one or more <code>paths</code>, <code>options</code>,
or are module names, each with a named list of parameters for that named module.
This last named list for <code>params</code> follows the convention used for the <code>params</code> argument in
<code>simInit(..., params = )</code>.</p>
<p>These files can use <code>paths</code>, <code>times</code>, plus any previous list in the sequence of
<code>params</code> or <code>options</code> specified. Any functions that are used must be available,
e.g., prefixed <code><a href="https://Require.predictiveecology.org/reference/normPath.html" class="external-link">Require::normPath</a></code> if the package has not been loaded (as recommended).</p>
<p>If passing a file to <code>options</code>, it should <strong>not set</strong> <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code> explicitly;
only create named lists. This enables options checking/validating
to occur within <code>setupOptions</code> and <code>setupParams</code>. A simplest case would be a file with this:
<code>opts &lt;- list(reproducible.destinationPath = "~/destPath")</code>.</p>
<p>All named lists will be parsed into their own environment, and then will be
sequentially evaluated (i.e., subsequent lists will have access to previous lists),
with each named elements setting or replacing the previously named element of the same name,
creating a single list. This final list will be assigned to, e.g., <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code> inside <code>setupOptions</code>.</p>
<p>Because each list is parsed separately, they to not need to be assigned objects;
if they are, the object name can be any name, even if similar to another object's name
used to built the same argument's (i.e. <code>paths</code>, <code>params</code>, <code>options</code>) final list.
Hence, in an file to passed to <code>options</code>, instead of incrementing the list as:

a &lt;- list(optA = 1)
b &lt;- append(a, list(optB = 2))
c &lt;- append(b, list(optC = 2.5))
d &lt;- append(c, list(optD = 3))

one can do:

a &lt;- list(optA = 1)
a &lt;- list(optB = 2)
c &lt;- list(optC = 2.5)
list(optD = 3)</p>
<p>NOTE: only atomics (i.e., character, numeric, etc.), named lists, or either of these
that are protected by 1 level of "if" are parsed. This will not work, therefore,
for other side-effect elements, like authenticating with a cloud service.</p>
<p>Several helper functions exist within <code>SpaDES.project</code> that may be useful, such
as <code>user(...)</code>, <code>machine(...)</code></p>
</div>

<div class="section">
<h3 id="can-hard-code-arguments-that-may-be-missing">Can hard code arguments that may be missing<a class="anchor" aria-label="anchor" href="#can-hard-code-arguments-that-may-be-missing"></a></h3>
<p>To allow for batch submission, a user can specify code <code>argument = value</code> even if <code>value</code>
is missing. This type of specification will not work in normal parsing of arguments,
but it is designed to work here. In the next example, <code>.mode = .mode</code> can be specified,
but if R cannot find <code>.mode</code> for the right hand side, it will just skip with no error.
Thus a user can source a script with the following line from batch script where <code>.mode</code>
is specified. When running this line without that batch script specification, then this
will assign no value to <code>.mode</code>. We include <code>.nodes</code> which shows an example of
passing a value that does exist. The non-existent <code>.mode</code> will be returned in the <code>out</code>,
but as an unevaluated, captured list element.</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>.nodes <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>out <span class="ot">&lt;-</span> <span class="fu">setupProject</span>(<span class="at">.mode =</span> .mode,</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>                    <span class="at">.nodes =</span> .nodes,</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>                    <span class="at">options =</span> <span class="st">"inst/options.R"</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>                    )</span></code></pre><p></p></div>
</div>

    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="setup.html">setupPaths()</a></code>, <code><a href="setup.html">setupOptions()</a></code>, <code><a href="setup.html">setupPackages()</a></code>,
<code><a href="setup.html">setupModules()</a></code>, <code><a href="setup.html">setupGitIgnore()</a></code>. Also, helpful functions such as
<code><a href="helpers.html">user()</a></code>, <code><a href="helpers.html">machine()</a></code>, <code><a href="helpers.html">node()</a></code></p>
<p><code><a href="../articles/i-getting-started.html">vignette("i-getting-started", package = "SpaDES.project")</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## For more examples:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"i-getting-started"</span>, package <span class="op">=</span> <span class="st">"SpaDES.project"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>vignette 'i-getting-started' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://spades-project.predictiveecology.org/" class="external-link">SpaDES.project</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">origDir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>          <span class="va">tmpdir</span> <span class="op">&lt;-</span> <span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="https://Require.predictiveecology.org/reference/tempdir2.html" class="external-link">tempdir2</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># for testing tempdir2 is better</span></span></span>
<span class="r-in"><span><span class="co"># \dontshow{</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"repos"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>CRAN <span class="op">=</span> <span class="st">"https://cloud.r-project.org"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="va">tmpdir</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span> <span class="co">## simplest case; just creates folders</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">setupProject</span><span class="op">(</span></span></span>
<span class="r-in"><span>  paths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>projectPath <span class="op">=</span> <span class="st">"."</span><span class="op">)</span> <span class="co">#</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">setting up paths ...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Copying SpaDES.project, data.table, Require, rprojroot packages to paths$packagePath (C:/Users/emcintir/AppData/Roaming/R/data/R/Require/packages/x86_64-w64-mingw32/4.3)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Setting:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   options(</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     reproducible.cachePath = 'C:/Users/emcintir/AppData/Local/Temp/RtmpOovltm/Require/cache'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     spades.inputPath = 'C:/Users/emcintir/AppData/Local/Temp/RtmpOovltm/Require/inputs'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     spades.outputPath = 'C:/Users/emcintir/AppData/Local/Temp/RtmpOovltm/Require/outputs'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     spades.modulePath = 'C:/Users/emcintir/AppData/Local/Temp/RtmpOovltm/Require/modules'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     spades.scratchPath = 'C:/Users/emcintir/AppData/Local/Temp/RtmpOovltm/Require'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   )</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">  done setting up paths</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">no packages to set up</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> .libPaths() are: C:/Users/emcintir/AppData/Roaming/R/data/R/Require/packages/x86_64-w64-mingw32/4.3, C:/Program Files/R/R-4.3.1/library</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="va">origDir</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Eliot J B McIntire.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

